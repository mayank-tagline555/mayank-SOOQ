# Generated by Django 5.1.4 on 2025-06-25 13:28

import django.db.models.deletion
from django.conf import settings
from django.db import migrations
from django.db import models


class Migration(migrations.Migration):
    initial = True

    dependencies = [
        ("account", "0002_initial"),
        ("jeweler", "0001_initial"),
        ("sooq_althahab_admin", "0001_initial"),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.AddField(
            model_name="jewelryproduct",
            name="product_type",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.RESTRICT,
                related_name="jewelry_products",
                to="sooq_althahab_admin.jewelryproducttype",
            ),
        ),
        migrations.AddField(
            model_name="jewelryproduct",
            name="updated_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="updated_by_%(class)s",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="jewelryproductattachment",
            name="jewelry_product",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="jewelry_product_attachments",
                to="jeweler.jewelryproduct",
            ),
        ),
        migrations.AddField(
            model_name="jewelryproduction",
            name="created_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="created_by%(class)s",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="jewelryproduction",
            name="design",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="productions",
                to="jeweler.jewelrydesign",
            ),
        ),
        migrations.AddField(
            model_name="jewelryproduction",
            name="inspected_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="inspected_productions",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="jewelryproduction",
            name="manufacturer",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="jewelry_productions",
                to="account.businessaccount",
            ),
        ),
        migrations.AddField(
            model_name="jewelryproduction",
            name="organization_id",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="%(class)s",
                to="account.organization",
            ),
        ),
        migrations.AddField(
            model_name="jewelryproduction",
            name="updated_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="updated_by_%(class)s",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="jewelryproductmaterial",
            name="carat_type",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.RESTRICT,
                related_name="jewelry_product_materials",
                to="sooq_althahab_admin.metalcarattype",
            ),
        ),
        migrations.AddField(
            model_name="jewelryproductmaterial",
            name="color",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.RESTRICT,
                related_name="jewelry_product_materials",
                to="sooq_althahab_admin.jewelryproductcolor",
            ),
        ),
        migrations.AddField(
            model_name="jewelryproductmaterial",
            name="jewelry_product",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="product_materials",
                to="jeweler.jewelryproduct",
            ),
        ),
        migrations.AddField(
            model_name="jewelryproductmaterial",
            name="material_item",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.RESTRICT,
                to="sooq_althahab_admin.materialitem",
            ),
        ),
        migrations.AddField(
            model_name="jewelryproductmaterial",
            name="shape_cut",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.RESTRICT,
                related_name="jewelry_product_materials",
                to="sooq_althahab_admin.stonecutshape",
            ),
        ),
        migrations.AddField(
            model_name="manufacturingpayment",
            name="created_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="created_by%(class)s",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="manufacturingpayment",
            name="jewelry_production",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="payment",
                to="jeweler.jewelryproduction",
            ),
        ),
        migrations.AddField(
            model_name="manufacturingpayment",
            name="updated_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="updated_by_%(class)s",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="manufacturingproductrequestedquantity",
            name="jewelry_product",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="manufacturing_product_requested_quantities",
                to="jeweler.jewelryproduct",
            ),
        ),
        migrations.AddField(
            model_name="manufacturingrequest",
            name="business",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="jeweler_manufacturing_requests",
                to="account.businessaccount",
            ),
        ),
        migrations.AddField(
            model_name="manufacturingrequest",
            name="created_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="created_by%(class)s",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="manufacturingrequest",
            name="design",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="manufacturing_requests",
                to="jeweler.jewelrydesign",
            ),
        ),
        migrations.AddField(
            model_name="manufacturingrequest",
            name="direct_manufacturers",
            field=models.ManyToManyField(
                blank=True,
                help_text="Only these manufacturers can see the request if it's not a Tender.",
                related_name="direct_manufacturing_requests",
                to="account.businessaccount",
            ),
        ),
        migrations.AddField(
            model_name="manufacturingrequest",
            name="organization_id",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="%(class)s",
                to="account.organization",
            ),
        ),
        migrations.AddField(
            model_name="manufacturingrequest",
            name="updated_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="updated_by_%(class)s",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="manufacturingproductrequestedquantity",
            name="manufacturing_request",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="manufacturing_product_requested_quantities",
                to="jeweler.manufacturingrequest",
            ),
        ),
        migrations.AddField(
            model_name="jewelryproduction",
            name="manufacturing_request",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="jewelry_production",
                to="jeweler.manufacturingrequest",
            ),
        ),
        migrations.AddField(
            model_name="manufacturingtarget",
            name="carat_type",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.RESTRICT,
                to="sooq_althahab_admin.metalcarattype",
            ),
        ),
        migrations.AddField(
            model_name="manufacturingtarget",
            name="manufacturing_request",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="manufacturing_targets",
                to="jeweler.manufacturingrequest",
            ),
        ),
        migrations.AddField(
            model_name="manufacturingtarget",
            name="material_item",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.RESTRICT,
                to="sooq_althahab_admin.materialitem",
            ),
        ),
        migrations.AddField(
            model_name="manufacturingtarget",
            name="shape_cut",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.RESTRICT,
                to="sooq_althahab_admin.stonecutshape",
            ),
        ),
        migrations.AddField(
            model_name="musharakahcontractrenewal",
            name="created_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="created_by%(class)s",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="musharakahcontractrenewal",
            name="duration_in_days",
            field=models.ForeignKey(
                blank=True,
                help_text="Select duration from dropdown. Admin-defined options.",
                null=True,
                on_delete=django.db.models.deletion.RESTRICT,
                to="sooq_althahab_admin.musharakahdurationchoices",
            ),
        ),
        migrations.AddField(
            model_name="musharakahcontractrenewal",
            name="updated_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="updated_by_%(class)s",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="musharakahcontractrequest",
            name="action_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="musharakahcontractrequest",
            name="created_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="created_by%(class)s",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="musharakahcontractrequest",
            name="design",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="musharakah_contract_requests",
                to="jeweler.jewelrydesign",
            ),
        ),
        migrations.AddField(
            model_name="musharakahcontractrequest",
            name="duration_in_days",
            field=models.ForeignKey(
                blank=True,
                help_text="Select duration from dropdown. Admin-defined options.",
                null=True,
                on_delete=django.db.models.deletion.RESTRICT,
                to="sooq_althahab_admin.musharakahdurationchoices",
            ),
        ),
        migrations.AddField(
            model_name="musharakahcontractrequest",
            name="investor",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="investor_musharakah_contract_requests",
                to="account.businessaccount",
            ),
        ),
        migrations.AddField(
            model_name="musharakahcontractrequest",
            name="jeweler",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="jeweler_musharakah_contract_requests",
                to="account.businessaccount",
            ),
        ),
        migrations.AddField(
            model_name="musharakahcontractrequest",
            name="organization_id",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="%(class)s",
                to="account.organization",
            ),
        ),
        migrations.AddField(
            model_name="musharakahcontractrequest",
            name="updated_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="updated_by_%(class)s",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="musharakahcontractrenewal",
            name="musharakah_contract_request",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="mushsarakah_contract_renewals",
                to="jeweler.musharakahcontractrequest",
            ),
        ),
        migrations.AddField(
            model_name="manufacturingpayment",
            name="musharakah_contract",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to="jeweler.musharakahcontractrequest",
            ),
        ),
        migrations.AddField(
            model_name="musharakahcontractrequestattachment",
            name="musharakah_contract_request",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="musharakah_contract_request_attachments",
                to="jeweler.musharakahcontractrequest",
            ),
        ),
        migrations.AddField(
            model_name="musharakahcontractrequestquantity",
            name="jewelry_product",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="musharakah_contract_request_quantities",
                to="jeweler.jewelryproduct",
            ),
        ),
        migrations.AddField(
            model_name="musharakahcontractrequestquantity",
            name="musharakah_contract_request",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="musharakah_contract_request_quantities",
                to="jeweler.musharakahcontractrequest",
            ),
        ),
        migrations.AddField(
            model_name="musharakahcontractterminationrequest",
            name="created_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="created_by%(class)s",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="musharakahcontractterminationrequest",
            name="musharakah_contract_request",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="musharakah_contract_request_termination_requests",
                to="jeweler.musharakahcontractrequest",
            ),
        ),
        migrations.AddField(
            model_name="musharakahcontractterminationrequest",
            name="organization_id",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="%(class)s",
                to="account.organization",
            ),
        ),
        migrations.AddField(
            model_name="musharakahcontractterminationrequest",
            name="updated_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="updated_by_%(class)s",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddConstraint(
            model_name="jewelrydesign",
            constraint=models.UniqueConstraint(
                condition=models.Q(("design_type", "COLLECTION")),
                fields=("name", "business"),
                name="unique_collection_name_per_business",
            ),
        ),
    ]
